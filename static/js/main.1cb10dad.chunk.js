(this["webpackJsonpinnowise-lab-internship-level-1-clever-to-do-list"]=this["webpackJsonpinnowise-lab-internship-level-1-clever-to-do-list"]||[]).push([[0],{50:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){},69:function(e,t,n){},70:function(e,t,n){},71:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){},80:function(e,t,n){},81:function(e,t,n){},82:function(e,t,n){},83:function(e,t,n){},84:function(e,t,n){},85:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n.n(c),r=n(40),s=n.n(r),u=(n(50),n(17)),i=n(8),o=(n(51),Object.freeze({SIGNIN:"/signin",REGISTER:"/register",TASKER:"/",TASK:"/task"})),l=n(7),j=n(34),b=(n(52),n(1));function d(){return Object(b.jsx)("div",{className:"loading",children:"loading..."})}var O=a.a.memo(d),f=n(41),h=(n(38),n(55),f.a.initializeApp({apiKey:"AIzaSyClViBygyvRmhfWcInnnP6yXAKn6JFuJGo",authDomain:"clever-to-do-list-29817.firebaseapp.com",databaseURL:"https://clever-to-do-list-29817-default-rtdb.firebaseio.com",projectId:"clever-to-do-list-29817",storageBucket:"clever-to-do-list-29817.appspot.com",messagingSenderId:"910035101196",appId:"1:910035101196:web:c4e0a2b9c9dbdb48e1b029"})),v=h.database(),m=h.auth(),p=Object.freeze({SAVE:"Save",UPDATE:"Update",DELETE:"Delete"}),x=p.SAVE,k=a.a.createContext();function g(){return Object(c.useContext)(k)}var N=function(e){var t=e.children,n=Object(c.useState)(!0),a=Object(l.a)(n,2),r=a[0],s=a[1],u=Object(c.useState)(null),i=Object(l.a)(u,2),o=i[0],d=i[1],f=Object(c.useState)(),h=Object(l.a)(f,2),v=h[0],p=h[1],g=Object(c.useState)(Object(j.a)(new Date)),N=Object(l.a)(g,2),_=N[0],S=N[1],C=Object(c.useState)(),y=Object(l.a)(C,2),w=y[0],T=y[1],E=Object(c.useState)({}),A=Object(l.a)(E,2),I=A[0],D=A[1],R=Object(c.useState)(x),M=Object(l.a)(R,2),K=M[0],U=M[1],P=Object(c.useRef)(null);Object(c.useEffect)((function(){return m.onAuthStateChanged((function(e){e&&T(e),s(!1)}))}),[]);var L={currentTask:o,setCurrentTask:d,currentTaskId:v,setCurrentTaskId:p,currentDate:_,setCurrentDate:S,currentUser:w,setCurrentUser:T,tasks:I,setTasks:D,action:K,setAction:U,scrollElemRef:P};return Object(b.jsx)(k.Provider,{value:L,children:r?Object(b.jsx)(O,{}):t})},_=o.SIGNIN;function S(e){var t=e.component,n=g().currentUser;return Object(b.jsx)(i.b,{render:function(){return n?Object(b.jsx)(t,{}):Object(b.jsx)(i.a,{to:_})}})}var C=a.a.memo(S),y=n(11),w=n.n(y),T=n(15);n(64);function E(e){var t=e.value,n=e.disabled;return Object(b.jsx)("input",{className:"button",type:"submit",value:t,disabled:n})}var A=a.a.memo(E),I=n(20),D=n(18);n(65);function R(e){var t=e.children,n=e.onSubmit,a=Object(c.useState)({email:"",password:""}),r=Object(l.a)(a,2),s=r[0],u=r[1],i=function(e){var t=e.target,n=t.name,c=t.value;u(Object(D.a)(Object(D.a)({},s),Object(I.a)({},n,c)))};return Object(b.jsxs)("form",{className:"form",onSubmit:function(e){return n(s,e)},children:[Object(b.jsx)("input",{className:"form__email",type:"email",name:"email",value:s.email,placeholder:"Email",onChange:i,required:!0}),Object(b.jsx)("input",{className:"form__password",type:"password",name:"password",value:s.password,placeholder:"Password",onChange:i,required:!0}),t]})}var M=a.a.memo(R);n(66),n(67);function K(e){var t=e.value;return t?Object(b.jsx)("div",{className:"alert",children:t}):null}var U=a.a.memo(K);n(68);function P(e){var t=e.value,n=e.placeholder,c=e.onChange;return Object(b.jsx)("input",{className:"password-input",type:"password",value:t,onChange:c,placeholder:n})}var L=a.a.memo(P);function G(e,t){return m.createUserWithEmailAndPassword(e,t)}function W(e,t){return m.signInWithEmailAndPassword(e,t)}function V(e,t){return z.apply(this,arguments)}function z(){return(z=Object(T.a)(w.a.mark((function e(t,n){var c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=t.uid,v.ref("users/".concat(c)).child("tasks").update(n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var J=o.TASKER,q=o.SIGNIN;var Y=function(){var e=Object(c.useState)(""),t=Object(l.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(!1),s=Object(l.a)(r,2),o=s[0],j=s[1],d=Object(c.useState)(""),O=Object(l.a)(d,2),f=O[0],h=O[1],v=Object(i.g)(),m=Object(c.useCallback)(function(){var e=Object(T.a)(w.a.mark((function e(t,n){var c,r,s;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=t.email,r=t.password,n.preventDefault(),r===f){e.next=5;break}return a("Passwords do not match"),e.abrupt("return");case 5:return e.prev=5,a(""),j(!0),e.next=10,G(c,r);case 10:v.push(J),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(5),s=e.t0.message,a(s),j(!1);case 18:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(t,n){return e.apply(this,arguments)}}(),[f,v]),p=Object(c.useCallback)((function(e){var t=e.target.value;return h(t)}),[]);return Object(b.jsxs)("div",{className:"register",children:[Object(b.jsx)("div",{className:"register__nav",children:Object(b.jsxs)(u.b,{className:"link",to:q,children:[Object(b.jsx)("div",{className:"register__arrow arrow"}),"Sign in"]})}),Object(b.jsx)(U,{value:n}),Object(b.jsxs)(M,{onSubmit:m,children:[Object(b.jsx)(L,{value:f,onChange:p,placeholder:"Confirm password"}),Object(b.jsx)(A,{disabled:o,value:"Register"})]})]})},B=(n(69),o.TASKER);var F=function(){var e=Object(c.useState)(""),t=Object(l.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(!1),s=Object(l.a)(r,2),o=s[0],j=s[1],d=Object(i.g)(),O=Object(c.useCallback)(function(){var e=Object(T.a)(w.a.mark((function e(t,n){var c,r,s;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.email,r=t.password,n.preventDefault(),e.prev=2,a(""),j(!0),e.next=7,W(c,r);case 7:d.push(B),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(2),s=e.t0.message,a(s),j(null);case 15:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t,n){return e.apply(this,arguments)}}(),[d]);return Object(b.jsxs)("div",{className:"signin",children:[Object(b.jsx)("div",{className:"signin__nav",children:Object(b.jsxs)(u.b,{className:"link",to:"/register",children:["Register",Object(b.jsx)("div",{className:"signin__arrow arrow"})]})}),Object(b.jsx)(U,{value:n}),Object(b.jsx)(M,{onSubmit:O,children:Object(b.jsx)(A,{disabled:o,value:"Sing in"})})]})},X=n(37),H=(n(70),n(87)),Q=n(88),Z=n(89),$=(n(71),n(94)),ee=n(86),te=n(27),ne=n.n(te),ce=n(43),ae=n.n(ce),re=function(e){var t=e.date,n=g(),a=n.tasks,r=n.currentDate,s=n.setCurrentDate,u=n.scrollElemRef,i=Object(c.useMemo)((function(){return function(e,t){var n="card__day";return ae()(e)&&(n+=" card__day_today"),ne()(t,e)&&(n+=" card__day_current"),n}(t,r)}),[t,r]),o=Object(c.useMemo)((function(){return function(e,t){return Object.values(e).some((function(e){return ne()(e.date,t)&&e.checked}))}(a,t)}),[a,t]),l=Object(c.useMemo)((function(){return function(e,t){return Object.values(e).some((function(e){return ne()(e.date,t)&&!e.checked}))}(a,t)}),[a,t]),j=Object(c.useMemo)((function(){return Object($.a)(t,"eee")}),[t]),d=Object(c.useMemo)((function(){return Object(ee.a)(t)}),[t]);return Object(b.jsxs)("button",{className:"card btn",ref:ne()(r,t)?u:null,type:"button",onClick:function(){return s(t)},children:[Object(b.jsxs)("div",{className:i,children:[Object(b.jsx)("span",{className:"card__text",children:j}),Object(b.jsx)("span",{className:"card__number",children:d})]}),Object(b.jsxs)("div",{className:"card__board",children:[l?Object(b.jsx)("div",{className:"card__pending"}):null,o?Object(b.jsx)("div",{className:"card__fulfilled"}):null]})]})},se=a.a.memo(re);var ue=function(e){var t=e.onIntersection,n=e.delay,a=void 0===n?1e3:n,r=Object(c.useRef)(null);return[Object(c.useCallback)(function(e,t){var n,c,a=!1;return function r(){for(var s=arguments.length,u=new Array(s),i=0;i<s;i++)u[i]=arguments[i];if(a)return n=u,void(c=this);e.apply(this,u),a=!0,setTimeout((function(){a=!1,n&&(r.apply(c,n),n=null,c=null)}),t)}}((function(){var e=r.current,n=e.scrollLeft,c=e.clientWidth;n===e.scrollWidth-c&&t()}),a),[t,r,a]),r]},ie=function(e){return Object(H.a)({start:e,end:Object(Q.a)(e,1)})};function oe(){var e=Object(c.useState)((function(){return ie(Object(j.a)(new Date))})),t=Object(l.a)(e,2),n=t[0],a=t[1],r=Object(c.useCallback)((function(){var e=n[n.length-1];a([].concat(Object(X.a)(n),Object(X.a)(ie(Object(Z.a)(e,1)))))}),[n,a]),s=ue({onIntersection:r,delay:1200}),u=Object(l.a)(s,2),i=u[0],o=u[1],d=Object(c.useCallback)((function(e){var t=o.current,n=e.deltaY<0&&t.scrollLeft>0,c=t.scrollWidth-t.clientWidth,a=e.deltaY>0&&t.scrollLeft<c;(n||a)&&(e.preventDefault(),t.scrollLeft+=e.deltaY)}),[o]);Object(c.useEffect)((function(){var e=o.current;return e.addEventListener("wheel",d),function(){return e.removeEventListener("wheel",d)}}),[o,d]);var O=Object(c.useMemo)((function(){return n.map((function(e){return Object(b.jsx)("li",{children:Object(b.jsx)(se,{date:e})},e)}))}),[n]);return Object(b.jsx)("ul",{className:"calendar",ref:o,onScroll:i,children:O})}var le=a.a.memo(oe),je=(n(74),n(75),n(90)),be=(n(76),o.TASK),de=p.UPDATE;function Oe(e){var t=e.task,n=e.taskId,a=g(),r=a.setTasks,s=a.currentUser,u=a.tasks,o=a.setCurrentTask,l=a.setCurrentTaskId,j=a.setAction,d=Object(i.g)(),O=Object(c.useRef)(),f=function(){var e=Object(T.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.checked=!t.checked,e.next=3,V(s,Object(I.a)({},n,Object(D.a)({},t)));case 3:r(Object(D.a)({},u));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(b.jsx)("li",{children:Object(b.jsxs)("button",{type:"button",className:"task",onClick:function(){O.current=setTimeout((function(){}),200)},onDoubleClick:function(){o(t),l(n),j(de),d.push(be),clearTimeout(O.current)},children:[Object(b.jsx)("input",{className:"task__input",type:"checkbox",checked:t.checked,onChange:f}),t.title]})})}var fe=a.a.memo(Oe);function he(){var e=g(),t=e.tasks,n=e.currentDate,a=Object(c.useMemo)((function(){return function(e,t){var n=[];return Object.entries(e).forEach((function(e,c){var a=Object(l.a)(e,2),r=a[0],s=a[1];if(Object(je.a)(s.date,t)){var u=Object(b.jsx)(fe,{task:s,taskId:r},c.toString());n.push(u)}})),n}(t,n)}),[n,t]);return[Object(b.jsxs)("div",{className:"task-count",children:[a.length," Tasks Today"]},22),Object(b.jsx)("ul",{className:"task-list",children:a},11)]}var ve=a.a.memo(he),me=o.SIGNIN,pe=o.TASK,xe=p.SAVE;var ke=function(){var e=g(),t=e.setAction,n=e.currentUser,a=e.setTasks,r=Object(c.useState)(!0),s=Object(l.a)(r,2),u=s[0],o=s[1],j=Object(c.useState)(""),d=Object(l.a)(j,2),f=d[0],h=d[1],p=Object(i.g)(),x=function(){var e=Object(T.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(""),e.prev=1,e.next=4,m.signOut();case 4:p.push(me),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),t=e.t0.message,h(t);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){var e;return(e=n,new Promise((function(t){v.ref("users/".concat(e.uid)).child("tasks").on("value",function(){var e=Object(T.a)(w.a.mark((function e(n){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(n.val()||{});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}))).then((function(e){a(e),o(!1)})),function(){return function(e){var t=e.uid;v.ref("users/".concat(t)).off("value")}(n)}}),[n,a]),u?Object(b.jsx)(O,{}):Object(b.jsxs)("div",{className:"tasker",children:[Object(b.jsxs)("div",{className:"header",children:["Tasker",Object(b.jsx)("button",{className:"signout",type:"button",onClick:x,children:"Sign out"})]}),Object(b.jsx)(U,{value:f}),Object(b.jsx)(le,{}),Object(b.jsx)(ve,{}),Object(b.jsx)("button",{type:"button",className:"tasker__btn btn",onClick:function(){t(xe),p.push(pe)},children:"+ Add a New Task"})]})},ge=(n(77),n(91)),Ne=n(29);n(78);function _e(e){var t=e.checked,n=e.title,c=e.setChecked,a=e.setTitle;return Object(b.jsxs)("div",{className:"task",children:[Object(b.jsx)("input",{className:"task__checkbox",type:"checkbox",name:"checkbox",checked:t,onChange:function(e){var t=e.target.checked;return c(t)}}),Object(b.jsx)("input",{className:"task__text",type:"text",value:n,name:"title",onChange:function(e){var t=e.target.value;return a(t)}})]})}var Se=a.a.memo(_e),Ce=(n(79),n(80),n(45)),ye=n.n(Ce),we=(n(81),n.p+"static/media/arrow.23e24faa.svg");function Te(e){var t=e.date,n=e.setDate;return Object(b.jsxs)("div",{className:"datepicker-header",children:[Object(b.jsx)("button",{type:"button",className:"datepicker-header__btn btn",onClick:function(){n(Object(ge.a)(Object(Q.a)(t,-1)))},children:Object(b.jsx)("img",{className:"datepicker-header__arrow_right",src:we,alt:""})}),Object(b.jsx)("div",{className:"datepicker-header__date",children:Object($.a)(t,"MMMM yyyy")}),Object(b.jsx)("button",{type:"button",className:"datepicker-header__btn btn",onClick:function(){n(Object(ge.a)(Object(Q.a)(t,1)))},children:Object(b.jsx)("img",{src:we,alt:""})})]})}var Ee=a.a.memo(Te),Ae=(n(82),n(44)),Ie=n(95),De=n(92),Re=n(93),Me=(n(83),n(96));function Ke(e){var t=e.date,n=e.onClick,c=e.checkedDate;return Object(b.jsx)("button",{className:function(){var e="date-btn";return Object(je.a)(t,c)?e+=" date-btn__checked":Object(Me.a)(t)&&(e+=" date-btn__today"),e}(),type:"button",onClick:function(){return n(t)},children:Object(ee.a)(t)})}var Ue=a.a.memo(Ke),Pe=function(){return Math.random()};function Le(e){var t=e.date,n=e.onChange,a=Object(c.useState)(Object(ge.a)(t)),r=Object(l.a)(a,2),s=r[0],u=r[1],i=Object(c.useCallback)((function(e){u(Object(ge.a)(e)),n(Object(ge.a)(e))}),[u,n]),o=Object(c.useMemo)((function(){return function(e,t,n){var c=Object(Ae.a)(e),a=Object(Ae.a)(c).getDay(),r=Object(Ie.a)(e);return new Array(r).fill(null).map((function(r,s){return(r=new Array(7).fill(null)).forEach((function(u,i){!s&&!Object(De.a)(a)&&i>=a||s&&Object(Re.a)(c)===Object(Re.a)(e)?(r[i]=Object(b.jsx)("td",{children:Object(b.jsx)(Ue,{date:Object(ge.a)(c),checkedDate:t,onClick:n})},Pe()),c=Object(Z.a)(c,1)):r[i]=Object(b.jsx)("td",{},Pe())})),Object(b.jsx)("tr",{children:r},Pe())}))}(t,s,i)}),[t,s,i]);return Object(b.jsx)("tbody",{children:o})}var Ge=a.a.memo(Le);var We=function(e){var t=e.data,n=e.onChange,a=Object(c.useState)(ye()(t)),r=Object(l.a)(a,2),s=r[0],u=r[1];return Object(b.jsxs)("div",{className:"datepicker",id:"datepicker",children:[Object(b.jsx)(Ee,{date:s,setDate:Object(c.useCallback)(u,[u])}),Object(b.jsxs)("table",{children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:"Sun"}),Object(b.jsx)("th",{children:"Mon"}),Object(b.jsx)("th",{children:"Tue"}),Object(b.jsx)("th",{children:"Wen"}),Object(b.jsx)("th",{children:"Thu"}),Object(b.jsx)("th",{children:"Fri"}),Object(b.jsx)("th",{children:"Sat"})]})}),Object(b.jsx)(Ge,{date:s,onChange:Object(c.useCallback)(n,[n])})]})]})};function Ve(e){var t=e.date,n=e.setDate,a=Object(c.useState)(!1),r=Object(l.a)(a,2),s=r[0],u=r[1];return Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{className:"date-control",children:[Object(b.jsx)("div",{className:"date-control__info",type:"text",children:Object($.a)(t,"P")}),Object(b.jsx)("input",{type:"button",value:"date",onClick:function(){u(!s)}})]}),s?Object(b.jsx)(We,{name:"date",data:t,onChange:n}):null]})}var ze=a.a.memo(Ve),Je=(n(84),o.TASKER),qe=p.SAVE,Ye=p.UPDATE,Be=p.DELETE;function Fe(e){var t=e.task,n=Object(i.g)(),c=g(),a=c.scrollElemRef,r=c.action,s=c.tasks,u=c.currentUser,o=c.currentTaskId,l=c.setCurrentTaskId,j=c.setCurrentTask,d=function(e){var c=e.target.name;c===qe?function(e,t){var n=e.uid;v.ref("users/".concat(n)).child("tasks").push(t)}(u,Object(D.a)({},t)):c===Ye?V(u,Object(I.a)({},o,Object(D.a)({},t))):c===Be&&(delete s[o],function(e,t){var n=e.uid;v.ref("users/".concat(n)).set({tasks:t})}(u,s)),j(null),l(null),n.push(Je),setTimeout((function(){var e=a.current;e&&Object(Ne.a)(e,{block:"center",inline:"center"})}),500)};return Object(b.jsxs)("div",{className:"actions",children:[Object(b.jsx)("button",{className:"delete-btn btn",type:"button",name:Be,onClick:d,children:Be}),Object(b.jsx)("button",{className:"save-btn btn",type:"button",name:r,onClick:d,children:r})]})}var Xe=a.a.memo(Fe),He=o.TASKER;var Qe=function(){var e=g(),t=e.currentTask,n=e.setCurrentTask,a=e.setCurrentTaskId,r=e.currentDate,s=e.scrollElemRef,u=Object(c.useState)(!!t&&t.checked),o=Object(l.a)(u,2),j=o[0],d=o[1],O=Object(c.useState)(t?t.title:""),f=Object(l.a)(O,2),h=f[0],v=f[1],m=Object(c.useState)(t?t.description:""),p=Object(l.a)(m,2),x=p[0],k=p[1],N=Object(c.useState)(t?t.date:Object(ge.a)(r)),_=Object(l.a)(N,2),S=_[0],C=_[1],y=Object(i.g)(),w={checked:j,title:h,description:x,date:S};return Object(b.jsxs)("div",{className:"task-page",children:[Object(b.jsxs)("div",{className:"task-page__container",children:[Object(b.jsx)("div",{className:"task-page__nav",children:Object(b.jsxs)("button",{type:"button",name:"back",className:"task-page__back",onClick:function(){n(null),a(null),y.push(He),setTimeout((function(){var e=s.current;e&&Object(Ne.a)(e,{block:"center",inline:"center"})}),500)},children:[Object(b.jsx)("div",{className:"task-page__arrow arrow"}),Object(b.jsx)("div",{className:"text_nowrap",children:"Today's Task"})]})}),Object(b.jsx)(Se,{checked:j,title:h,setChecked:Object(c.useCallback)(d,[d]),setTitle:Object(c.useCallback)(v,[v])}),Object(b.jsx)("textarea",{className:"task-page__description",name:"description",value:x,onChange:function(e){var t=e.target.value;return k(t)}}),Object(b.jsx)(ze,{date:S,setDate:Object(c.useCallback)(C,[C])})]}),Object(b.jsx)(Xe,{task:w})]})},Ze=o.SIGNIN,$e=o.REGISTER,et=o.TASKER,tt=o.TASK;var nt=function(){return Object(b.jsx)("div",{className:"wrapper",children:Object(b.jsx)("div",{className:"container",children:Object(b.jsx)(u.a,{basename:et,children:Object(b.jsx)(N,{children:Object(b.jsxs)(i.d,{children:[Object(b.jsx)(C,{exact:!0,path:et,component:ke}),Object(b.jsx)(C,{path:tt,component:Qe}),Object(b.jsx)(i.b,{path:Ze,component:F}),Object(b.jsx)(i.b,{path:$e,component:Y})]})})})})})};s.a.render(Object(b.jsx)(nt,{}),document.querySelector("#root"))}},[[85,1,2]]]);
//# sourceMappingURL=main.1cb10dad.chunk.js.map