(this["webpackJsonpinnowise-lab-internship-level-1-clever-to-do-list"]=this["webpackJsonpinnowise-lab-internship-level-1-clever-to-do-list"]||[]).push([[0],Array(37).concat([function(e,t,n){},function(e,t,n){},,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(2),c=n(30),r=n.n(c),s=(n(37),n(5)),u=n(11),i=n(6),o=(n(38),Object.freeze({SIGNIN:"/signin",REGISTER:"/register",TASKER:"/",TASK:"/task"})),l=n(1),j=o.SIGNIN;var b=function(e){var t=e.component,n=e.currentTask,a=e.setCurrentTask,c=e.currentDate,r=e.setCurrentDate,s=e.currentUser,u=e.tasks,o=e.setTasks;return Object(l.jsx)(i.b,{render:function(){return s?Object(l.jsx)(t,{currentTask:n,setCurrentTask:a,currentDate:c,setCurrentDate:r,currentUser:s,tasks:u,setTasks:o}):Object(l.jsx)(i.a,{to:j})}})},d=n(8),h=n.n(d),O=n(12);n(45);var f=function(e){var t=e.value,n=e.disabled;return Object(l.jsx)("input",{className:"button",type:"submit",value:t,disabled:n})},v=n(19),k=n(14);n(46);var p=function(e){var t=e.children,n=e.onSubmit,c=Object(a.useState)({email:"",password:""}),r=Object(s.a)(c,2),u=r[0],i=r[1],o=function(e){var t=e.target,n=t.name,a=t.value;i(Object(k.a)(Object(k.a)({},u),Object(v.a)({},n,a)))};return Object(l.jsxs)("form",{className:"form",onSubmit:function(e){return n(u,e)},children:[Object(l.jsx)("input",{className:"form__email",type:"email",name:"email",value:u.email,placeholder:"Email",onChange:o,required:!0}),Object(l.jsx)("input",{className:"form__password",type:"password",name:"password",value:u.password,placeholder:"Password",onChange:o,required:!0}),t]})};n(47),n(48);var x=function(e){var t=e.value;return t?Object(l.jsx)("div",{className:"alert",children:t}):null};n(49);var m=function(e){var t=e.value,n=e.placeholder,a=e.onChange;return Object(l.jsx)("input",{className:"password-input",type:"password",value:t,onChange:a,placeholder:n})},g=n(32),C=(n(29),n(51),g.a.initializeApp({apiKey:"AIzaSyClViBygyvRmhfWcInnnP6yXAKn6JFuJGo",authDomain:"clever-to-do-list-29817.firebaseapp.com",databaseURL:"https://clever-to-do-list-29817-default-rtdb.firebaseio.com",projectId:"clever-to-do-list-29817",storageBucket:"clever-to-do-list-29817.appspot.com",messagingSenderId:"910035101196",appId:"1:910035101196:web:c4e0a2b9c9dbdb48e1b029"})),N=C.database(),D=C.auth();function _(e,t){return D.createUserWithEmailAndPassword(e,t)}function w(e,t){return D.signInWithEmailAndPassword(e,t)}function T(e,t){var n=JSON.stringify(t);N.ref("users/".concat(e.uid)).set({tasks:n})}var S=o.TASKER,y=o.SIGNIN;var A=function(){var e=Object(a.useState)(""),t=Object(s.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!1),o=Object(s.a)(r,2),j=o[0],b=o[1],d=Object(a.useState)(""),v=Object(s.a)(d,2),k=v[0],g=v[1],C=Object(i.g)(),N=function(){var e=Object(O.a)(h.a.mark((function e(t,n){var a,r,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.email,r=t.password,n.preventDefault(),r===k){e.next=5;break}return c("Passwords do not match"),e.abrupt("return");case 5:return e.prev=5,c(""),b(!0),e.next=10,_(a,r);case 10:C.push(S),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(5),s=e.t0.message,c(s),b(!1);case 18:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(t,n){return e.apply(this,arguments)}}();return Object(l.jsxs)("div",{className:"register",children:[Object(l.jsx)("div",{className:"register__nav",children:Object(l.jsxs)(u.b,{className:"link",to:y,children:[Object(l.jsx)("div",{className:"register__arrow arrow"}),"Sign in"]})}),Object(l.jsx)(x,{value:n}),Object(l.jsxs)(p,{onSubmit:N,children:[Object(l.jsx)(m,{value:k,onChange:function(e){return g(e.target.value)},placeholder:"Confirm password"}),Object(l.jsx)(f,{disabled:j,value:"Register"})]})]})},E=(n(55),o.TASKER);var I=function(){var e=Object(a.useState)(""),t=Object(s.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!1),o=Object(s.a)(r,2),j=o[0],b=o[1],d=Object(i.g)(),v=function(){var e=Object(O.a)(h.a.mark((function e(t,n){var a,r,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.email,r=t.password,n.preventDefault(),e.prev=2,c(""),b(!0),e.next=7,w(a,r);case 7:d.push(E),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(2),s=e.t0.message,c(s),b(null);case 15:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t,n){return e.apply(this,arguments)}}();return Object(l.jsxs)("div",{className:"signin",children:[Object(l.jsx)("div",{className:"signin__nav",children:Object(l.jsxs)(u.b,{className:"link",to:"/register",children:["Register",Object(l.jsx)("div",{className:"signin__arrow arrow"})]})}),Object(l.jsx)(x,{value:n}),Object(l.jsx)(p,{onSubmit:v,children:Object(l.jsx)(f,{disabled:j,value:"Sing in"})})]})};n(56),n(57);function M(e){return e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0),e}function U(e){return["Sun","Mon","Tue","Wen","Thu","Fri","Sat"][e.getDay()]}function R(e){return["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()]}function F(e){return e<10?"0".concat(e):e}var K=function(e){var t=e.date,n=e.onClick,a=e.checkPendingTasks,c=e.checkFulfilledTasks,r=e.createDayClass;return Object(l.jsxs)("button",{type:"button",className:"card btn",onClick:function(){return n(t)},children:[Object(l.jsxs)("div",{className:r(t),children:[Object(l.jsx)("span",{className:"card__text",children:U(t)}),Object(l.jsx)("span",{className:"card__number",children:t.getDate()})]}),Object(l.jsxs)("div",{className:"card__board",children:[a(t)?Object(l.jsx)("div",{className:"card__pending"}):null,c(t)?Object(l.jsx)("div",{className:"card__fulfilled"}):null]})]})},J=function(e,t){var n=e.deltaY<0&&t.scrollLeft>0,a=t.scrollWidth-t.clientWidth,c=e.deltaY>0&&t.scrollLeft<a;(n||c)&&(e.preventDefault(),t.scrollLeft+=e.deltaY)},W=n(16),Y=function(e){var t=e.getDate(),n=[];do{n.push(new Date(e)),e.setDate(e.getDate()+1)}while(e.getDate()!==t);return n};var G=function(e){var t=e.currentDate,n=e.setCurrentDate,c=e.tasks,r=M(new Date),u=Object(a.useState)(Y(r)),i=Object(s.a)(u,2),o=i[0],j=i[1],b=Object(a.useCallback)((function(e){n(e)}),[]),d=Object(a.useCallback)((function(e){return c.some((function(t){return+t.date===+e&&t.checked}))}),[c]),h=Object(a.useCallback)((function(e){return c.some((function(t){return+t.date===+e&&!t.checked}))}),[c]),O=Object(a.useCallback)((function(e){var n="card__day";return+M(new Date)===+e&&(n+=" card__day_today"),+t===+e&&(n+=" card__day_current"),n}),[t]),f=o.map((function(e){return Object(l.jsx)(K,{date:e,currentDate:t,onClick:b,checkPendingTasks:h,checkFulfilledTasks:d,createDayClass:O},e)})),v=function(e){var t=document.querySelector(".calendar");J(e,t),function(e,t){var n=document.querySelector(".calendar"),a=n.scrollWidth-n.clientWidth;if(n.scrollLeft===a){var c=e[e.length-1],r=new Date(c);r.setDate(r.getDate()+1);var s=Y(r);t([].concat(Object(W.a)(e),Object(W.a)(s)))}}(o,j)};return Object(a.useEffect)((function(){document.querySelector(".calendar").addEventListener("wheel",v)})),Object(l.jsx)("ul",{className:"calendar",children:f})};n(58),n(59),n(60);var P=function(e){var t=e.task,n=e.onClick,a=e.onDoubleClick,c=e.onChange;return Object(l.jsxs)("button",{type:"button",className:"task",onClick:n,onDoubleClick:function(){return a(t)},children:[Object(l.jsx)("input",{className:"task__input",type:"checkbox",checked:t.checked,onChange:function(){return c(t)}}),t.title]})},q=o.TASK;var L=function(e){var t=e.setCurrentTask,n=e.currentDate,c=e.tasks,r=e.setTasks,s=e.currentUser,u=Object(i.g)(),o=[],j=Object(a.useRef)(),b=Object(a.useCallback)((function(){j.current=setTimeout((function(){}),200)}),[]),d=Object(a.useCallback)((function(e){var n=c.find((function(t){return t===e})),a=c.filter((function(t){return t!==e}));t(n),r(a),u.push(q),clearTimeout(j.current)}),[c]),f=Object(a.useCallback)(function(){var e=Object(O.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.checked=!t.checked,e.next=3,r(Object(W.a)(c));case 3:T(s,c);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[c,s]);return c.forEach((function(e,t){if(+e.date===+n){var a=Object(l.jsx)(P,{task:e,currentUser:s,onClick:b,onDoubleClick:d,onChange:f},t.toString());o.push(a)}})),[Object(l.jsxs)("div",{className:"task-count",children:[o.length," Tasks Today"]},22),Object(l.jsx)("ul",{className:"task-list",children:o},11)]},z=o.SIGNIN,B=o.TASK;var H=function(e){var t=e.currentTask,n=e.setCurrentTask,c=e.currentDate,r=e.setCurrentDate,o=e.tasks,j=e.setTasks,b=e.currentUser,d=Object(a.useState)(""),f=Object(s.a)(d,2),v=f[0],k=f[1],p=Object(i.g)(),m=function(){var e=Object(O.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k(""),e.prev=1,e.next=4,D.signOut();case 4:p.push(z),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),t=e.t0.message,k(t);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}();return Object(l.jsxs)("div",{className:"tasker",children:[Object(l.jsxs)("div",{className:"header",children:["Tasker",Object(l.jsx)("button",{className:"signout",type:"button",onClick:m,children:"Sign out"})]}),Object(l.jsx)(x,{value:v}),Object(l.jsx)(G,{currentDate:c,setCurrentDate:r,tasks:o}),Object(l.jsx)(L,{currentTask:t,setCurrentTask:n,currentDate:c,setCurrentDate:r,tasks:o,setTasks:j,currentUser:b}),Object(l.jsx)(u.b,{className:"tasker__link",to:B,children:"+ Add a New Task"})]})};n(61),n(62);var V=function(e){var t=e.checked,n=e.title,a=e.onChange;return Object(l.jsxs)("div",{className:"task",children:[Object(l.jsx)("input",{className:"task__checkbox",type:"checkbox",name:"checkbox",checked:t,onChange:a}),Object(l.jsx)("input",{className:"task__text",type:"text",value:n,name:"title",onChange:a})]})},X=(n(63),n(64),n(65),n.p+"static/media/arrow.23e24faa.svg");var Q=function(e){var t=e.date,n=e.setDate;return Object(l.jsxs)("div",{className:"datepicker-header",children:[Object(l.jsx)("button",{type:"button",className:"datepicker-header__btn btn",onClick:function(){n(new Date(t.setMonth(t.getMonth()-1)))},children:Object(l.jsx)("img",{className:"datepicker-header__arrow_right",src:X,alt:""})}),Object(l.jsx)("div",{className:"datepicker-header__date",children:"".concat(R(t)," ").concat(t.getFullYear())}),Object(l.jsx)("button",{type:"button",className:"datepicker-header__btn btn",onClick:function(){n(new Date(t.setMonth(t.getMonth()+1)))},children:Object(l.jsx)("img",{src:X,alt:""})})]})};n(66),n(67);var Z=function(e){var t=e.date,n=e.onClick,a=e.checkedDate,c=M(new Date),r="date-btn";return+t===+a?r+=" date-btn__checked":+c===+t&&(r+=" date-btn__today"),Object(l.jsx)("button",{className:r,type:"button",onClick:function(){return n(t)},children:t.getDate()})};var $=function(e){var t=e.date,n=e.onChange,c=new Date(t),r=Object(a.useState)(new Date(t)),u=Object(s.a)(r,2),i=u[0],o=u[1],j=new Date(c.getFullYear(),c.getMonth()+1,0).getDate(),b=new Date(c.getFullYear(),c.getMonth(),j).getDay(),d=new Date(c.getFullYear(),c.getMonth(),1).getDay(),h=[],O=[],f=Object(a.useCallback)((function(e){o(new Date(e)),n({target:{name:"date",value:e}})}),[]),v=function(){return Math.random()};return function(){if(0!==d)for(var e=0;e<d;e++)O.push(Object(l.jsx)("td",{},v()));else for(var t=0;t<0;t++)O.push(Object(l.jsx)("td",{},v()))}(),function(){for(var e=1;e<=j;e++){var t=new Date(c.getFullYear(),c.getMonth(),e);O.push(Object(l.jsx)("td",{children:Object(l.jsx)(Z,{date:t,checkedDate:i,onClick:f})},v())),6===t.getDay()&&(h.push(Object(l.jsx)("tr",{children:O.slice()},v())),O=[])}}(),function(){if(0!==b)for(var e=b;e<7;e++)O.push(Object(l.jsx)("td",{},v()));h.push(Object(l.jsx)("tr",{children:O},v()))}(),Object(l.jsx)("tbody",{children:h})};var ee=function(e){var t=e.data,n=e.onChange,c=Object(a.useState)(new Date(t)),r=Object(s.a)(c,2),u=r[0],i=r[1];return Object(l.jsxs)("div",{className:"datepicker",id:"datepicker",children:[Object(l.jsx)(Q,{date:u,setDate:i}),Object(l.jsxs)("table",{children:[Object(l.jsx)("thead",{children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"Sun"}),Object(l.jsx)("th",{children:"Mon"}),Object(l.jsx)("th",{children:"Tue"}),Object(l.jsx)("th",{children:"Wen"}),Object(l.jsx)("th",{children:"Thu"}),Object(l.jsx)("th",{children:"Fri"}),Object(l.jsx)("th",{children:"Sat"})]})}),Object(l.jsx)($,{date:u,onChange:n})]})]})};var te=function(e){var t=e.task.date,n=e.onChange,c=Object(a.useState)(!1),r=Object(s.a)(c,2),u=r[0],i=r[1],o="".concat(F(t.getMonth()+1),"/").concat(F(t.getDate()),"/").concat(t.getFullYear());return Object(l.jsxs)("div",{children:[Object(l.jsxs)("div",{className:"date-control",children:[Object(l.jsx)("div",{className:"date-control__info",type:"text",children:o}),Object(l.jsx)("input",{type:"button",value:"date",onClick:function(){i(!u)}})]}),u?Object(l.jsx)(ee,{name:"date",data:t,onChange:n}):null]})},ne=(n(68),o.TASKER);var ae=function(e){var t=e.currentTask,n=e.setCurrentTask,a=e.task,c=e.tasks,r=e.setTasks,s=e.currentUser,u=Object(i.g)(),o=t?"Update":"Save",j=function(){var e=Object(O.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("delete"===t.target.name){e.next=4;break}return e.next=4,r((function(){return[].concat(Object(W.a)(c),[Object(k.a)({},a)])}));case 4:T(s,c),n(null),u.push(ne);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(l.jsxs)("div",{className:"actions",children:[Object(l.jsx)("button",{className:"delete-btn btn",type:"button",name:"delete",onClick:j,children:"Delete"}),Object(l.jsx)("button",{className:"save-btn btn",type:"button",name:o,onClick:j,children:o})]})},ce=o.TASKER;var re=function(e){var t=e.currentTask,n=e.setCurrentTask,c=e.currentDate,r=e.tasks,u=e.setTasks,o=e.currentUser,j={checked:!1,title:"Title",description:"description",date:M(c)},b=Object(a.useState)(t||j),d=Object(s.a)(b,2),f=d[0],p=d[1],x=Object(i.g)(),m=function(e){var t=e.target,n=t.name,a=t.value,c=t.checked;p("checkbox"===n?Object(k.a)(Object(k.a)({},f),{},{checked:c}):Object(k.a)(Object(k.a)({},f),{},Object(v.a)({},n,a)))},g=function(){var e=Object(O.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=4;break}return e.next=3,u((function(){return[].concat(Object(W.a)(r),[Object(k.a)({},t)])}));case 3:n(null);case 4:x.push(ce);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){return function(){return T(o,r)}}),[o,r]),Object(l.jsxs)("div",{className:"task-page",children:[Object(l.jsxs)("div",{className:"task-page__container",children:[Object(l.jsx)("div",{className:"task-page__nav",children:Object(l.jsxs)("button",{type:"button",name:"back",className:"task-page__back",onClick:g,children:[Object(l.jsx)("div",{className:"task-page__arrow arrow"}),Object(l.jsx)("div",{className:"text_nowrap",children:"Today's Task"})]})}),Object(l.jsx)(V,{checked:f.checked,title:f.title,onChange:m}),Object(l.jsx)("textarea",{className:"task-page__description",name:"description",value:f.description,onChange:m}),Object(l.jsx)(te,{task:f,onChange:m})]}),Object(l.jsx)(ae,{currentTask:t,setCurrentTask:n,task:f,tasks:r,setTasks:u,currentUser:o})]})};n(69);var se=function(){return Object(l.jsx)("div",{className:"loading",children:"loading..."})};var ue=function(e){var t=e.children,n=e.setTasks,c=e.setCurrentUser,r=Object(a.useState)(!0),u=Object(s.a)(r,2),i=u[0],o=u[1];return Object(a.useEffect)((function(){return e=function(e){c(e),function(e,t){e&&N.ref("users/".concat(e.uid)).once("value",(function(e){var n=e.val();if(n instanceof Object&&n.tasks){var a=JSON.parse(n.tasks,(function(e,t){return"date"===e?new Date(t):t}));t(a)}}))}(e,n),o(!1)},D.onAuthStateChanged(e);var e}),[]),i?Object(l.jsx)(se,{}):t},ie=o.SIGNIN,oe=o.REGISTER,le=o.TASKER,je=o.TASK;var be=function(){var e=Object(a.useState)(),t=Object(s.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(M(new Date)),o=Object(s.a)(r,2),j=o[0],d=o[1],h=Object(a.useState)(),O=Object(s.a)(h,2),f=O[0],v=O[1],k=Object(a.useState)([]),p=Object(s.a)(k,2),x=p[0],m=p[1];return Object(l.jsx)("div",{className:"wrapper",children:Object(l.jsx)("div",{className:"container",children:Object(l.jsx)(u.a,{basename:le,children:Object(l.jsx)(ue,{setTasks:m,setCurrentUser:v,children:Object(l.jsxs)(i.d,{children:[Object(l.jsx)(b,{exact:!0,path:le,component:H,currentTask:n,setCurrentTask:c,currentDate:j,setCurrentDate:d,currentUser:f,tasks:x,setTasks:m}),Object(l.jsx)(b,{path:je,component:re,currentTask:n,setCurrentTask:c,currentDate:j,currentUser:f,setCurrentUser:v,tasks:x,setTasks:m}),Object(l.jsx)(i.b,{path:ie,component:I}),Object(l.jsx)(i.b,{path:oe,component:A})]})})})})})};r.a.render(Object(l.jsx)(be,{}),document.querySelector("#root"))}]),[[70,1,2]]]);
//# sourceMappingURL=main.2c375463.chunk.js.map